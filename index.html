<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì–´ë¨¸ë‹ˆ ì§€í•˜ì²  ë„ìš°ë¯¸</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Nanum+Gothic:wght@400;700;800&display=swap');
        
        body {
            font-family: 'Nanum+Gothic', sans-serif;
            background-color: #f8fafc;
            -webkit-tap-highlight-color: transparent;
            overflow-x: hidden;
            font-size: 1.05rem;
        }
        
        .big-button {
            transition: transform 0.1s active;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
        }
        
        .big-button:active {
            transform: scale(0.98);
        }

        .line-badge {
            display: inline-block;
            padding: 2px 10px;
            border-radius: 15px;
            color: white;
            font-weight: 700;
            font-size: 0.85rem;
            margin-right: 4px;
        }

        /* ë…¸ì„  ìƒ‰ìƒ ì •ì˜ */
        .line-1 { background-color: #0052A4; } .line-2 { background-color: #009D3E; }
        .line-3 { background-color: #EF7C1C; } .line-4 { background-color: #00A5DE; }
        .line-5 { background-color: #996CAC; } .line-6 { background-color: #CD7C2F; }
        .line-7 { background-color: #747F00; } .line-8 { background-color: #e6186c; }
        .line-9 { background-color: #BDB092; } .line-gj { background-color: #77c4a3; }
        .line-gc { background-color: #0C8E72; } .line-suin { background-color: #F5A200; }
        .line-shin { background-color: #D4003B; } .line-gtx { background-color: #A6142F; }

        .path-step {
            position: relative;
            padding-left: 45px;
            padding-bottom: 25px;
        }
        .path-step::before {
            content: '';
            position: absolute;
            left: 17px;
            top: 15px;
            bottom: -5px;
            width: 3px;
            background-color: #e2e8f0;
            border-radius: 2px;
        }
        .path-step:last-child::before { display: none; }
        .circle-num {
            position: absolute;
            left: 0;
            top: 0;
            width: 36px;
            height: 36px;
            background-color: #3b82f6;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 800;
            font-size: 1rem;
            z-index: 10;
        }

        .highlight-action {
            color: #dc2626;
            font-weight: 800;
            text-decoration: underline;
            text-underline-offset: 3px;
        }

        #map-modal {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9);
            z-index: 100;
            overflow: auto;
        }

        #station-input { font-size: 1.5rem; }
    </style>
</head>
<body class="max-w-md mx-auto min-h-screen bg-gray-50 pb-16">

    <header class="bg-blue-600 text-white p-6 text-center shadow-lg">
        <h1 class="text-2xl font-black mb-1">ì§€í•˜ì²  ë„ìš°ë¯¸</h1>
        <p class="text-base opacity-90 font-bold">ì–´ë¨¸ë‹ˆ, ì˜¤ëŠ˜ ì–´ë”” ê°€ì‹œë‚˜ìš”?</p>
    </header>

    <main class="p-4 space-y-6">
        <!-- ë©”ì¸ ë©”ë‰´ -->
        <div id="main-menu" class="space-y-4 pt-2">
            <button onclick="openSearch('out')" class="big-button w-full bg-white border-2 border-blue-500 rounded-2xl p-6 text-left flex items-center justify-between shadow-sm">
                <div>
                    <span class="text-gray-500 text-base block mb-1 font-bold">ì§‘ì—ì„œ ë‚˜ê°ˆ ë•Œ</span>
                    <span class="text-2xl font-black text-gray-800">êµ¬ë¦¬ì—­ ì¶œë°œ</span>
                </div>
                <span class="text-5xl">ğŸ </span>
            </button>

            <button onclick="openSearch('in')" class="big-button w-full bg-white border-2 border-green-500 rounded-2xl p-6 text-left flex items-center justify-between shadow-sm">
                <div>
                    <span class="text-gray-500 text-base block mb-1 font-bold">ì§‘ìœ¼ë¡œ ëŒì•„ì˜¬ ë•Œ</span>
                    <span class="text-2xl font-black text-gray-800">êµ¬ë¦¬ì—­ ë„ì°©</span>
                </div>
                <span class="text-5xl">ğŸš‰</span>
            </button>

            <button onclick="toggleMap(true)" class="big-button w-full bg-orange-400 border-2 border-orange-500 rounded-2xl p-4 text-center shadow-md">
                <span class="text-xl font-black text-white">ğŸ—ºï¸ ë…¸ì„ ë„ í¬ê²Œ ë³´ê¸°</span>
            </button>

            <div id="favorites-section" class="hidden mt-6">
                <h2 class="text-xl font-black text-gray-700 mb-3 ml-1">â­ ìì£¼ ê°€ëŠ” ê³³</h2>
                <div id="favorites-list" class="space-y-3"></div>
            </div>
        </div>

        <!-- ê²€ìƒ‰ì°½ -->
        <div id="search-view" class="hidden fixed inset-0 bg-white z-[60] p-6 flex flex-col">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-xl font-black text-blue-800">ì—­ ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”</h2>
                <button onclick="closeSearch()" class="text-4xl font-bold p-2 text-gray-400">âœ•</button>
            </div>
            
            <input type="text" id="station-input" oninput="filterStations(this.value)" autofocus
                   placeholder="ì˜ˆ: ì„œìš¸ì—­, ê°•ë‚¨, ì ì‹¤" 
                   class="w-full border-b-4 border-blue-500 p-3 font-black focus:outline-none placeholder-gray-300">
            
            <div id="search-results" class="flex-1 overflow-y-auto space-y-3 mt-4 pb-6">
                <!-- ì—­ ëª©ë¡ ìë™ ìƒì„± -->
            </div>
        </div>

        <!-- ê²½ë¡œ ì•ˆë‚´íŒ -->
        <div id="route-detail" class="hidden bg-white rounded-3xl border-2 border-blue-200 p-6 shadow-xl space-y-6">
            <div class="flex justify-between items-center">
                <button onclick="goHome()" class="bg-gray-400 text-white px-4 py-2 rounded-xl text-lg font-bold">ì²˜ìŒìœ¼ë¡œ</button>
                <button id="fav-btn" onclick="toggleFavorite()" class="text-4xl">â˜†</button>
            </div>
            
            <div id="route-path-summary" class="flex flex-wrap items-center justify-center gap-1 p-3 bg-gray-50 rounded-2xl border border-gray-100 font-bold"></div>

            <div id="route-content" class="space-y-4"></div>

            <button onclick="toggleMap(true)" class="block w-full bg-orange-500 text-white text-center py-4 rounded-2xl text-xl font-black shadow-lg">
                ğŸ—ºï¸ ì§€ë„ì—ì„œ í™•ì¸
            </button>
        </div>
    </main>

    <!-- ì§€ë„ ëª¨ë‹¬ -->
    <div id="map-modal">
        <div class="min-h-screen flex flex-col p-4">
            <button onclick="toggleMap(false)" class="sticky top-4 self-end bg-white border-2 border-black text-black px-6 py-2 rounded-full text-xl font-bold shadow-2xl z-[110]">ë‹«ê¸° âœ•</button>
            <div class="overflow-auto mt-4 flex-1 rounded-2xl bg-white">
                <img src="map_korea.jpg" alt="ë…¸ì„ ë„" class="max-w-none w-[400%]" id="map-img">
            </div>
        </div>
    </div>

    <script>
        // [í•µì‹¬] API ì—†ì´ ë¡œì»¬ì—ì„œ ì‘ë™í•˜ëŠ” ë…¸ì„  ë°ì´í„°ë² ì´ìŠ¤
        const subwayDB = [
            { name: "ì ì‹¤ì—­", line: "8", color: "line-8", hub: "ì—†ìŒ", steps: [
                { type: "ride", line: "8", color: "line-8", station: "êµ¬ë¦¬ì—­", msg: "í•‘í¬ìƒ‰ 8í˜¸ì„ (ëª¨ë€í–‰) ì—´ì°¨ë¥¼ íƒ€ì„¸ìš”." },
                { type: "arrive", station: "ì ì‹¤ì—­", msg: "ë„ì°©í–ˆìŠµë‹ˆë‹¤. ì—¬ê¸°ì„œ ë‚´ë¦¬ì„¸ìš”." }
            ]},
            { name: "ì„œìš¸ì—­", line: "1", color: "line-1", hub: "íšŒê¸°ì—­", steps: [
                { type: "ride", line: "ê²½ì˜ì¤‘ì•™", color: "line-gj", station: "êµ¬ë¦¬ì—­", msg: "ì˜¥ìƒ‰ ê²½ì˜ì¤‘ì•™ì„ (ë¬¸ì‚°í–‰)ì„ íƒ€ì„¸ìš”." },
                { type: "transfer", line: "1", color: "line-1", station: "íšŒê¸°ì—­", pos: "1-1ë²ˆ", msg: "ë‚´ë ¤ì„œ ë°”ë¡œ ì˜† 1í˜¸ì„ (ì¸ì²œí–‰)ìœ¼ë¡œ ê°ˆì•„íƒ€ì„¸ìš”." },
                { type: "arrive", station: "ì„œìš¸ì—­", msg: "ë„ì°©í–ˆìŠµë‹ˆë‹¤. ì—¬ê¸°ì„œ ë‚´ë¦¬ì„¸ìš”." }
            ]},
            { name: "ê°•ë‚¨ì—­", line: "2", color: "line-2", hub: "ì ì‹¤ì—­", steps: [
                { type: "ride", line: "8", color: "line-8", station: "êµ¬ë¦¬ì—­", msg: "í•‘í¬ìƒ‰ 8í˜¸ì„ (ëª¨ë€í–‰) ì—´ì°¨ë¥¼ íƒ€ì„¸ìš”." },
                { type: "transfer", line: "2", color: "line-2", station: "ì ì‹¤ì—­", pos: "3-1ë²ˆ", msg: "ë‚´ë ¤ì„œ 2í˜¸ì„ (êµëŒ€ë°©í–¥)ìœ¼ë¡œ ê°ˆì•„íƒ€ì„¸ìš”." },
                { type: "arrive", station: "ê°•ë‚¨ì—­", msg: "ë„ì°©í–ˆìŠµë‹ˆë‹¤. ì—¬ê¸°ì„œ ë‚´ë¦¬ì„¸ìš”." }
            ]},
            { name: "ì²œí˜¸ì—­", line: "8", color: "line-8", hub: "ì—†ìŒ", steps: [
                { type: "ride", line: "8", color: "line-8", station: "êµ¬ë¦¬ì—­", msg: "í•‘í¬ìƒ‰ 8í˜¸ì„ (ëª¨ë€í–‰)ì„ íƒ€ì„¸ìš”." },
                { type: "arrive", station: "ì²œí˜¸ì—­", msg: "ë„ì°©í–ˆìŠµë‹ˆë‹¤. ì—¬ê¸°ì„œ ë‚´ë¦¬ì„¸ìš”." }
            ]},
            { name: "ë‹¤ì‚°ì—­", line: "8", color: "line-8", hub: "ì—†ìŒ", steps: [
                { type: "ride", line: "8", color: "line-8", station: "êµ¬ë¦¬ì—­", msg: "í•‘í¬ìƒ‰ 8í˜¸ì„ (ë³„ë‚´í–‰)ì„ íƒ€ì„¸ìš”." },
                { type: "arrive", station: "ë‹¤ì‚°ì—­", msg: "ë°”ë¡œ ë‹¤ìŒ ì—­ì…ë‹ˆë‹¤. ë‚´ë¦¬ì„¸ìš”." }
            ]},
            { name: "ë³„ë‚´ì—­", line: "8", color: "line-8", hub: "ì—†ìŒ", steps: [
                { type: "ride", line: "8", color: "line-8", station: "êµ¬ë¦¬ì—­", msg: "í•‘í¬ìƒ‰ 8í˜¸ì„ (ë³„ë‚´í–‰)ì„ íƒ€ì„¸ìš”." },
                { type: "arrive", station: "ë³„ë‚´ì—­", msg: "ë‘ ë²ˆì§¸ ì •ê±°ì¥ì…ë‹ˆë‹¤. ë‚´ë¦¬ì„¸ìš”." }
            ]},
            { name: "ì™•ì‹­ë¦¬ì—­", line: "ê²½ì˜ì¤‘ì•™", color: "line-gj", hub: "ì—†ìŒ", steps: [
                { type: "ride", line: "ê²½ì˜ì¤‘ì•™", color: "line-gj", station: "êµ¬ë¦¬ì—­", msg: "ì˜¥ìƒ‰ ê²½ì˜ì¤‘ì•™ì„ (ë¬¸ì‚°í–‰)ì„ íƒ€ì„¸ìš”." },
                { type: "arrive", station: "ì™•ì‹­ë¦¬ì—­", msg: "ë„ì°©í–ˆìŠµë‹ˆë‹¤. ì—¬ê¸°ì„œ ë‚´ë¦¬ì„¸ìš”." }
            ]},
            { name: "ì²­ëŸ‰ë¦¬ì—­", line: "ê²½ì˜ì¤‘ì•™", color: "line-gj", hub: "ì—†ìŒ", steps: [
                { type: "ride", line: "ê²½ì˜ì¤‘ì•™", color: "line-gj", station: "êµ¬ë¦¬ì—­", msg: "ì˜¥ìƒ‰ ê²½ì˜ì¤‘ì•™ì„ (ë¬¸ì‚°í–‰)ì„ íƒ€ì„¸ìš”." },
                { type: "arrive", station: "ì²­ëŸ‰ë¦¬ì—­", msg: "ë„ì°©í–ˆìŠµë‹ˆë‹¤. ì—¬ê¸°ì„œ ë‚´ë¦¬ì„¸ìš”." }
            ]},
            { name: "ê³ ì†í„°ë¯¸ë„ì—­", line: "3", color: "line-3", hub: "ê°€ë½ì‹œì¥ì—­", steps: [
                { type: "ride", line: "8", color: "line-8", station: "êµ¬ë¦¬ì—­", msg: "í•‘í¬ìƒ‰ 8í˜¸ì„ (ëª¨ë€í–‰)ì„ íƒ€ì„¸ìš”." },
                { type: "transfer", line: "3", color: "line-3", station: "ê°€ë½ì‹œì¥ì—­", pos: "3-3ë²ˆ", msg: "ë‚´ë ¤ì„œ 3í˜¸ì„ (ëŒ€í™”ë°©í–¥)ìœ¼ë¡œ ê°ˆì•„íƒ€ì„¸ìš”." },
                { type: "arrive", station: "ê³ ì†í„°ë¯¸ë„ì—­", msg: "ë„ì°©í–ˆìŠµë‹ˆë‹¤. ì—¬ê¸°ì„œ ë‚´ë¦¬ì„¸ìš”." }
            ]},
            { name: "ëª…ë™ì—­", line: "4", color: "line-4", hub: "ë™ëŒ€ë¬¸ì—­", steps: [
                { type: "ride", line: "ê²½ì˜ì¤‘ì•™", color: "line-gj", station: "êµ¬ë¦¬ì—­", msg: "ê²½ì˜ì¤‘ì•™ì„ ì„ íƒ€ê³  íšŒê¸°ì—­ì—ì„œ 1í˜¸ì„ ìœ¼ë¡œ ê°ˆì•„íƒ€ì„¸ìš”." },
                { type: "transfer", line: "4", color: "line-4", station: "ë™ëŒ€ë¬¸ì—­", pos: "10-4ë²ˆ", msg: "ë™ëŒ€ë¬¸ì—­ì—ì„œ ë‚´ë ¤ì„œ 4í˜¸ì„ ìœ¼ë¡œ ê°ˆì•„íƒ€ì„¸ìš”." },
                { type: "arrive", station: "ëª…ë™ì—­", msg: "ë„ì°©í–ˆìŠµë‹ˆë‹¤. ì—¬ê¸°ì„œ ë‚´ë¦¬ì„¸ìš”." }
            ]},
            { name: "ìƒë´‰ì—­", line: "7", color: "line-gj", hub: "ì—†ìŒ", steps: [
                { type: "ride", line: "ê²½ì˜ì¤‘ì•™", color: "line-gj", station: "êµ¬ë¦¬ì—­", msg: "ì˜¥ìƒ‰ ê²½ì˜ì¤‘ì•™ì„ (ë¬¸ì‚°í–‰)ì„ íƒ€ì„¸ìš”." },
                { type: "arrive", station: "ìƒë´‰ì—­", msg: "ë„ì°©í–ˆìŠµë‹ˆë‹¤. ì—¬ê¸°ì„œ ë‚´ë¦¬ì„¸ìš”." }
            ]},
            { name: "ê±´ëŒ€ì…êµ¬ì—­", line: "2", color: "line-2", hub: "ì ì‹¤ì—­", steps: [
                { type: "ride", line: "8", color: "line-8", station: "êµ¬ë¦¬ì—­", msg: "í•‘í¬ìƒ‰ 8í˜¸ì„ (ëª¨ë€í–‰) ì—´ì°¨ë¥¼ íƒ€ì„¸ìš”." },
                { type: "transfer", line: "2", color: "line-2", station: "ì ì‹¤ì—­", pos: "3-1ë²ˆ", msg: "ë‚´ë ¤ì„œ 2í˜¸ì„ (ì„±ìˆ˜ë°©í–¥)ìœ¼ë¡œ ê°ˆì•„íƒ€ì„¸ìš”." },
                { type: "arrive", station: "ê±´ëŒ€ì…êµ¬ì—­", msg: "ë„ì°©í–ˆìŠµë‹ˆë‹¤. ì—¬ê¸°ì„œ ë‚´ë¦¬ì„¸ìš”." }
            ]}
        ];

        let currentTarget = null;
        let searchMode = 'out';
        let favorites = JSON.parse(localStorage.getItem('guri_mama_final_local') || '[]');

        function formatStationName(name) {
            if (!name) return "";
            return name.trim().replace(/ì—­+$/, '') + 'ì—­';
        }

        function openSearch(mode) {
            searchMode = mode;
            document.getElementById('search-view').classList.remove('hidden');
            document.getElementById('station-input').value = '';
            document.getElementById('station-input').focus();
            filterStations('');
        }

        function closeSearch() {
            document.getElementById('search-view').classList.add('hidden');
        }

        function filterStations(query) {
            const container = document.getElementById('search-results');
            container.innerHTML = '';
            
            const matches = subwayDB.filter(s => s.name.includes(query));
            
            if (matches.length > 0) {
                matches.forEach(st => {
                    const btn = document.createElement('button');
                    btn.className = "w-full bg-white border-2 border-gray-100 p-5 rounded-2xl text-left shadow-sm flex justify-between items-center mb-2 active:bg-blue-50";
                    btn.onclick = () => showRoute(st);
                    btn.innerHTML = `
                        <span class="text-lg font-bold text-gray-800">${st.name}</span>
                        <span class="line-badge line-${st.line.toLowerCase()}">${st.line}í˜¸ì„ </span>
                    `;
                    container.appendChild(btn);
                });
            } else {
                container.innerHTML = `<p class="text-center text-gray-400 mt-10">ì°¾ìœ¼ì‹œëŠ” ì—­ì´ ëª©ë¡ì— ì—†ë„¤ìš”.<br>ì£¼ìš” ì—­ ì´ë¦„ì„ ë‹¤ì‹œ ì…ë ¥í•´ ë³´ì„¸ìš”.</p>`;
            }
        }

        function showRoute(st) {
            currentTarget = st;
            closeSearch();
            document.getElementById('main-menu').classList.add('hidden');
            document.getElementById('route-detail').classList.remove('hidden');

            const summary = document.getElementById('route-path-summary');
            const path = searchMode === 'out' ? ["êµ¬ë¦¬ì—­", st.hub !== "ì—†ìŒ" ? st.hub : null, st.name].filter(Boolean) : [st.name, st.hub !== "ì—†ìŒ" ? st.hub : null, "êµ¬ë¦¬ì—­"].filter(Boolean);
            
            summary.innerHTML = path.map((p, idx) => `
                <span class="text-sm font-bold ${idx === path.length-1 ? 'text-green-600' : 'text-gray-800'}">${p}</span>
                ${idx < path.length - 1 ? '<span class="text-xs text-gray-300 mx-1">âœ</span>' : ''}
            `).join('');

            const content = document.getElementById('route-content');
            let steps = st.steps;
            
            // 'ì˜¤ê¸°' ëª¨ë“œì¼ ë•ŒëŠ” ì•ˆë‚´ ë¬¸êµ¬ë¥¼ ìƒí™©ì— ë§ê²Œ ì‚´ì§ ë³´ì •í•˜ì—¬ í‘œì‹œ
            if (searchMode === 'in') {
                content.innerHTML = `
                    <div class="p-6 bg-blue-50 rounded-2xl border-2 border-blue-100 text-center mb-4">
                        <p class="text-xl font-bold text-blue-800">${st.name}ì—ì„œ ì—´ì°¨ë¥¼ íƒ€ê³ <br>ì•ˆë‚´ì— ë”°ë¼ êµ¬ë¦¬ì—­ìœ¼ë¡œ ì˜¤ì„¸ìš”.</p>
                    </div>
                    <p class="text-center text-gray-500 font-bold">â€» ê°€ëŠ” ê¸¸ì˜ ë°˜ëŒ€ ìˆœì„œë¡œ ì˜¤ì‹œë©´ ë©ë‹ˆë‹¤.</p>
                `;
            } else {
                content.innerHTML = steps.map((step, idx) => {
                    let msg = step.msg;
                    msg = msg.replace("ë‚´ë ¤ì„œ", "<span class='highlight-action'>ë‚´ë ¤ì„œ</span>");
                    msg = msg.replace("ê°ˆì•„íƒ€ì„¸ìš”", "<span class='highlight-action'>ê°ˆì•„íƒ€ì„¸ìš”</span>");
                    msg = msg.replace("ë‚´ë¦¬ì„¸ìš”", "<span class='highlight-action'>ë‚´ë¦¬ì„¸ìš”</span>");

                    return `
                    <div class="path-step">
                        <div class="circle-num">${idx + 1}</div>
                        <div class="space-y-1">
                            <div class="flex items-center">
                                <span class="line-badge line-${step.line ? step.line.toLowerCase() : 'default'}">${step.line || ''}</span>
                                <span class="text-lg font-black text-gray-800">${step.station || st.name}</span>
                            </div>
                            <p class="action-text text-lg font-bold text-gray-700 leading-relaxed">${msg}</p>
                            ${step.pos ? `
                            <div class="inline-block mt-1 bg-green-50 px-3 py-1 rounded-lg border border-green-200">
                                <p class="text-sm font-bold text-green-800">ğŸ’¡ ë¹ ë¥¸ í™˜ìŠ¹ ìœ„ì¹˜: <span class="text-red-600 underline">${step.pos}</span></p>
                            </div>` : ''}
                        </div>
                    </div>`;
                }).join('');
            }

            updateFavoriteStar();
        }

        function toggleFavorite() {
            const index = favorites.findIndex(f => f.name === currentTarget.name);
            if (index > -1) favorites.splice(index, 1);
            else favorites.push(currentTarget);
            localStorage.setItem('guri_mama_final_local', JSON.stringify(favorites));
            updateFavoriteStar();
        }

        function updateFavoriteStar() {
            const isFav = favorites.some(f => f.name === currentTarget.name);
            const btn = document.getElementById('fav-btn');
            btn.innerText = isFav ? 'â­' : 'â˜†';
            btn.style.color = isFav ? '#f59e0b' : '#9ca3af';
        }

        function renderFavorites() {
            const container = document.getElementById('favorites-list');
            const section = document.getElementById('favorites-section');
            if (favorites.length === 0) { section.classList.add('hidden'); return; }
            section.classList.remove('hidden');
            container.innerHTML = '';
            favorites.forEach(fav => {
                const btn = document.createElement('button');
                btn.className = "w-full bg-yellow-50 border-2 border-yellow-200 rounded-2xl p-4 flex items-center justify-between shadow-sm active:bg-yellow-100";
                btn.onclick = () => { searchMode = 'out'; showRoute(fav); };
                btn.innerHTML = `<span class="text-base font-bold text-gray-800">ğŸ  â†’ ${fav.name}</span> <span class="text-xl">â¡ï¸</span>`;
                container.appendChild(btn);
            });
        }

        function goHome() {
            document.getElementById('route-detail').classList.add('hidden');
            document.getElementById('main-menu').classList.remove('hidden');
            renderFavorites();
        }

        function toggleMap(show) { document.getElementById('map-modal').style.display = show ? 'block' : 'none'; }
        window.onload = renderFavorites;
    </script>
</body>
</html>
